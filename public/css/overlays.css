.overlay { position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:1000; padding:20px; }
.overlay.show { display:flex; animation:fadeIn .4s ease; }
.ask-box { background:linear-gradient(180deg, #17202c, #0e141c); border:1px solid #2a3b52; border-radius:16px; padding:16px; max-width:520px; width:100%; box-shadow:var(--shadow); text-align:center; }

/* Log */
.log { padding:12px; max-height:260px; overflow-y:auto; font-size:13px; background:#0a1018; border:1px solid #1c2940; border-radius:12px; }
.log div { margin-bottom:2px; animation:fadeIn .3s ease; }
@keyframes fadeIn { from {opacity:0;transform:translateY(3px);} to{opacity:1;transform:none;} }

/* Timer */
.timerWrap { margin:8px 0; height:8px; background:#192233; border-radius:999px; overflow:hidden; border:1px solid #2b3b54; }
.timerBar { height:100%; width:100%; background:linear-gradient(90deg, #6ee7ff, #7aa2ff); transition:width .1s linear; }
.timerBar.red { background:linear-gradient(90deg, #ff8a8a, #ff5b5b); }
.timerBar.gold { background:linear-gradient(90deg, #ffe082, #ffc13d); }

/* Kostka */
#diceResult { font-size:64px; animation:diceRoll 1s ease infinite; text-shadow:0 8px 20px rgba(0,0,0,.45); }
@keyframes diceRoll { 0%{transform:rotate(0) scale(1);}25%{transform:rotate(10deg) scale(1.05);}50%{transform:rotate(-8deg) scale(1.08);}75%{transform:rotate(6deg) scale(1.05);}100%{transform:rotate(0) scale(1);} }

/* ===== NOW BAR (centrální pruh) ===== */
.nowbar{
  position: sticky; /* drží se pod horní lištou boardu */
  top: 0;
  z-index: 50;
  margin: 10px 0 6px;
  padding: 10px 14px;
  border-radius: 12px;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(24,32,46,.7), rgba(12,18,28,.7));
  border: 1px solid rgba(255,255,255,.12);
  color: var(--text);
  font-weight: 700;
  letter-spacing: .2px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .25s ease, transform .25s ease, background .25s ease;
}
.nowbar.show{ opacity: 1; transform: translateY(0); }
.nowbar.info { background: linear-gradient(180deg, rgba(24,32,46,.75), rgba(12,18,28,.75)); }
.nowbar.ok    { background: linear-gradient(180deg, rgba(18,50,36,.78), rgba(9,26,20,.78)); }
.nowbar.warn  { background: linear-gradient(180deg, rgba(70,54,22,.78), rgba(46,34,12,.78)); }
.nowbar.danger{ background: linear-gradient(180deg, rgba(70,26,26,.80), rgba(38,12,12,.80)); }

/* ===== Toast stack (pravý spodní roh) ===== */
.toasts{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none; /* kliky skrz */
}
.toast{
  min-width: 240px;
  max-width: 360px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(24,32,46,.9), rgba(12,18,28,.92));
  color: var(--text);
  box-shadow: var(--shadow);
  font-size: 14px;
  line-height: 1.35;
  pointer-events: auto; /* dovol klik na zavření */
  opacity: 0;
  transform: translateY(8px);
  animation: toastIn .25s ease forwards;
}
.toast.ok    { border-color:#1b6b53aa; }
.toast.warn  { border-color:#ffc13daa; }
.toast.danger{ border-color:#ff5b5baa; }

.toast .title{ font-weight: 800; margin-bottom: 2px; }
.toast .body { color: var(--muted); }

.toast .close{
  float: right;
  margin: -2px -4px 0 8px;
  opacity: .75;
  cursor: pointer;
}

@keyframes toastIn{
  from{ opacity: 0; transform: translateY(8px); }
  to  { opacity: 1; transform: translateY(0); }
}
@keyframes toastOut{
  to{ opacity: 0; transform: translateY(8px); }
}
